(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e920e"],{"8be3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card-code",{attrs:{title:"New Customers","no-body":""}},[a("b-table",{staticClass:"mb-0",attrs:{fields:t.fields,items:t.customers,responsive:"","tbody-tr-class":t.rowClass},scopedSlots:t._u([{key:"cell(customer)",fn:function(e){return[a("span",{staticClass:"text-nowrap"},[a("b-avatar",{staticClass:"mr-1",attrs:{src:e.item.avatar}}),a("span",{staticClass:"text-nowrap"},[t._v(t._s(e.item.username))])],1)]}},{key:"cell(registered_at)",fn:function(e){return[t._v(" "+t._s(t.dateFormat(e.item.registered_at))+" ")]}},{key:"cell(id)",fn:function(e){return[a("b-button",{staticClass:"ml-0",attrs:{variant:"gradient-primary",size:"sm"},on:{click:function(a){return t.openAssignModal(e.item.id)}}},[t._v(" Affiliate ")])]}}])})],1),a("b-modal",{ref:"assign-modal",attrs:{id:"assign-modal",title:"Select moderator to assign","ok-title":"cancel","ok-only":"",centered:""},model:{value:t.assignModalShow,callback:function(e){t.assignModalShow=e},expression:"assignModalShow"}},[a("b-form-group",[a("b-form-radio-group",{attrs:{options:t.moderators,value:"male",stacked:""},model:{value:t.assignModerator,callback:function(e){t.assignModerator=e},expression:"assignModerator"}})],1),a("b-button",{on:{click:t.assignChat}},[t._v(" Affiliate ")])],1)],1)},o=[],n=(a("159b"),a("ac1f"),a("1276"),a("541c")),r=a("29a1"),i=a("1947"),l=a("e8a3"),c=a("6aac"),u=a("2924"),d=a("8226"),m=a("7100"),h=a("4360"),f={components:{BTable:r["a"],BButton:i["a"],BCardCode:n["a"],BAvatar:l["a"],BModal:c["a"],BFormRadioGroup:u["a"],BFormGroup:d["a"]},data:function(){return{fields:[{key:"customer",label:"Client"},{key:"email",label:"Email"},{key:"age",label:"age"},{key:"registered_at",label:"Registered Date"},{key:"id",label:"Action"}],items:[],assignedItems:[],lobbySocket:h["a"].state.appConfig.lobbySocket,pushModalShow:!1,assignModalShow:!1,pushChatIdSelected:0,pushTimeOptions:[{text:"5min",value:5},{text:"15min",value:10},{text:"30min",value:30},{text:"45min",value:45},{text:"1h",value:60},{text:"1h 15min",value:75},{text:"1h 30min",value:90},{text:"1h 45min",value:105},{text:"2h",value:120},{text:"3h",value:180},{text:"4h",value:240},{text:"5h",value:300}],pushTime:"1h",userName:JSON.parse(localStorage.getItem("userData")).username,assignChatIdSelected:null,assignModerator:null,moderators:[],customers:[]}},mounted:function(){this.fetchModerators(),this.fetchNewCustomers()},methods:{fetchNewCustomers:function(){var t=this;m["a"].getCustomers("?new=1").then((function(e){t.customers=e.data,console.log("customers  --\x3e",t.customers)})).catch((function(t){console.log(t)}))},fetchModerators:function(){var t=this;m["a"].getModerators().then((function(e){t.moderators=[];var a=e.data;a.forEach((function(e){t.moderators.push(e.username)})),console.log(t.moderators)})).catch((function(t){console.log(t)}))},rowClass:function(t,e){if(t&&"row"===e)return"remind"===t.status?"table-reminder":void 0},openAssignModal:function(t){this.assignChatIdSelected=t,this.assignModalShow=!0},assignChat:function(){var t=this;this.assignModalShow=!1;var e={customer:this.assignChatIdSelected,moderator:this.assignModerator};m["a"].createAffiliate(e).then((function(e){console.log(e.data),t.fetchNewCustomers()})).catch((function(t){console.log(t)}))},dateFormat:function(t){return t.split("T")[0]}}},g=f,p=a("2877"),v=Object(p["a"])(g,s,o,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0e920e.74b773e4.js.map